\chapter{Ejemplos en \LaTeX}

Este primer apéndice presenta ejemplos en \LaTeX de cómo incluir referencias, citas bibliográficas, figuras, tablas o código. Este apéndice se deberá eliminar de la memoria antes de entregar el trabajo. 

\section{Referencias, citas y bibliografía}
\subsection{Referencias}
Para poder referenciar un elemento dentro de la memoria hay que marcarlo con una etiqueta (\verb|\label{[id]}|) que lo identifique inequívocamente. Es habitual utilizar identificadores  representativos, por ejemplo, para marcar la introducción podemos utilizar una etiqueta como \verb|\label{chap:introduccion}|

Una vez marcado el elemento (capítulo, sección, figura, tabla, \ldots) en \LaTeX, utilizaremos el comando \verb|ref| indicando a qué etiqueta queremos referenciar (\verb|\ref{[id]}|). Por ejemplo, de esta manera podemos referenciar al capítulo de la introducción con \ref{chap:introduccion}. Podemos acompañarlo de un texto como ``\ldots como se vió en el capítulo~\ref{chap:introduccion}\ldots'' o bien utilizar el comando \verb|\autoref{[i]}|, que incluiría el tipo del elemento y aparecería en el texto como \autoref{chap:introduccion}, o incluso referenciarlo por el nombre del elemento con \verb|\nameref{[id]}|, lo que se mostraría como \nameref{chap:introduccion}. 

\subsection{Bibliografía}
Para añadir una cita bibliográfica al documento tendremos que asegurarnos que en el fichero de bibliografía (bibliografía.bib) se encuentre la entrada bibliográfica correspondiente. Una vez que tengamos nuestra entrada bibliográfica utilizaremos el comando de cita de \LaTeX indicando el identificador de la referencia bibliográfica, por ejemplo: 
\verb|\cite{aikg}|, que se se visualizaría como \cite{aikg}. 

Cuando queramos citar más de un trabajo en un mismo punto del documento se deberán añadir a la cita separados por comas, por ejemplo: \verb|\cite{chen_2018, Qin_2020}|, que se visualizaría como \cite{chen_2018, Qin_2020}. En estos casos es habitual añadir las citas en orden cronológico de más antigua a más reciente.

Tal y como está configurada esta plantilla, por defecto el comando \verb|\cite| realizará una cita textual (\verb|\citet|), es decir, la cita forma parte del texto. Este tipo de citas se suelen realizar en frases como: 

``Algunos ejemplos de grafos de conocimiento se presentan en \citet{ji2020survey}'' 

Cuando la cita no forma parte del texto si no que se utiliza para reforzar una afirmación realizada en una frase, se debe utilizar una cita entre paréntesis (o corchetes). Para ello se usa el comando \verb|\citep|, por ejemplo:

``Existe una gran variedad de aplicaciones de los grafos de conocimiento \citep{ji2020survey}.''


\section{Figuras}
Para añadir una figura al documento utilizaremos el entorno figure, indicando la posición que debe tener dicha figura en el documento (h: here, t: top, b: botom; p: page), se recomienda en lo posible evitar de ``!'' que ignora todos los ajustes de los parámetros. El orden en el que se indiquen cada una de las opciones se tendrá en cuenta para colocar la figura, es decir si se indicase el orden [htbp] la figura primero se intentará colocar en el lugar que ocupa en el documento, si no se puede se intentará colocar al inicio (top) de la página, en caso que tampoco sea posible se intentará colocar al final (bottom) de la página y, por último en caso que no sea posible ninguna de las anteriores se colocará al inicio de una página nueva.

\begin{figure}[ht]
\begin{centering}
\includegraphics[width=0.5\columnwidth]{imagenes/logo_informatica.png}
\par\end{centering}

\caption[Ejemplo de figura]{Esta figura tiene una descripción al pie muy larga, por lo que añadiremos un título breve utilizando para ello los corchetes tras el comando \textbackslash caption. La etiqueta de la figura (label) se incluirá al incio del flotante de la figura para que cualquier referencia cruzada (ref) a la misma lleve al inicio del flotante.\label{fig:Ejemplo-de-figura}}
\end{figure}

\section{Tablas}
Para añadir una tabla se utilizará el entorno \verb|table|, indicando al incio de la tabla el título de la misma utilizando el \verb|caption|. Un ejemplo puede verse en la Tabla~\ref{tab:Ejemplo-de-tabla}.

\begin{table}[ht]

\centering
\caption[Ejemplo de tabla]{Esta tabla presenta un ejemplo con tres columnas y formato formal.\label{tab:Ejemplo-de-tabla}}
% Alineación de cada columna: l = left; c = center; r = right
\begin{tabular}[t]{lccccc}
\hline
Model & Accuracy & Precision & Recall & F1-score & AUC\\ % La doble barra indica un salto de línea
\hline
Modelo 1 & $0.33$ & $0.75$ & $0.72$ & $0.42$ & $0.21$ \\
Modelo 2 & $0.01$ & $0.63$ & $0.60$ & $0.50$ & $0.10$ \\
Modelo 3 & $0.03$ & $0.93$ & $0.33$ & $0.04$ & $0.42$ \\
\hline
\end{tabular}
\end{table}



\section{Código}
Para añadir código en la memoria utilizaremos el paquete \verb|listing|, que permite mostrar código formateado en diversos lenguajes (Java, Python, C, \ldots). 

\begin{lstlisting}[language=Python]
import numpy as np
    
def incmatrix(genl1,genl2):
    m = len(genl1)
    n = len(genl2)
    M = None #to become the incidence matrix
    VT = np.zeros((n*m,1), int)  #dummy variable
    
    #compute the bitwise xor matrix
    M1 = bitxormatrix(genl1)
    M2 = np.triu(bitxormatrix(genl2),1) 

    for i in range(m-1):
        for j in range(i+1, m):
            [r,c] = np.where(M2 == M1[i,j])
            for k in range(len(r)):
                VT[(i)*n + r[k]] = 1;
                VT[(i)*n + c[k]] = 1;
                VT[(j)*n + r[k]] = 1;
                VT[(j)*n + c[k]] = 1;
                
                if M is None:
                    M = np.copy(VT)
                else:
                    M = np.concatenate((M, VT), 1)
                
                VT = np.zeros((n*m,1), int)
    
    return M
\end{lstlisting}

\section{Listas}
Como en cualquier procesador de textos debemos diferenciar dos tipos de listas. Las listas no numeradas (o de viñetas) se definirán mediante entornos \verb|itemize|. 

\begin{itemize}
    \item Elemento no numerado
    \item Elemento no numerado 
    \item Elemento no numerado
\end{itemize}

Las listas numeradas se definirán mediantes entornos \verb|enumerate|. En ambos casos, cada elemento de la lista se genera utilizando el comando \verb|item|. 

\begin{enumerate}
    \item Elemento 1 \\ Con el comando \verb|\\| podemos insertar saltos de línea sin cambiar de párrafo.
    \item Elemento 2. Con el comando \verb|\textbf| podemos \textbf{enfatizar con negrita} un texto y con el comando \verb|\textit| podemos \textit{enfatizar con itálica} un texto.
    \item Elemento 3
\end{enumerate}

\section{Ecuaciones}
Cuando una ecuación va a ser referenciada desde el texto, en principio más de una vez, será necesario nombrar o numerar dicha ecuación (ver \autoref{Eq:ejemplo_ecuacion1}). Para añadir una ecuación numerada utilizaremos el entorno \verb|equation|.

\begin{equation}\label{Eq:ejemplo_ecuacion1}
\left(\begin{array}{cccc}w_{1}, & w_{2}, & ... & ,w_{n}\end{array}\right)
\left(\begin{array}{c}x_{1}\\x_{2}\\\vdots\\x_{n}\end{array}\right)+b=0
\rightarrow\mathbf{w^{\mathsf{t}}}\mathbf{x}+b=0
\end{equation}

Cuando la ecuación no va a ser referenciada desde el texto, podemos utilizar la versión de entorno no numerada \verb|equation*|

\begin{equation*}
\label{Eq:ejemplo_ecuacion2}
\dfrac{1}{2}\parallel\mathbf{w}\parallel=\dfrac{1}{2}\sqrt{\sum w_{i}^{2}}
\end{equation*}

Es también posible añadir ecuaciones en línea con el texto, para ello se debe incluir la expresión matemática en \LaTeX encerrada entre símbolos de dólar. Por ejemplo, la ecuación anterior se podría representar también en línea: $\dfrac{1}{2}\parallel\mathbf{w}\parallel=\dfrac{1}{2}\sqrt{\sum w_{i}^{2}}$.